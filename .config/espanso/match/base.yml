global_vars:
  - name: zkcard
    type: date
    params:
      format: "%Y%m%d%H%M%S"
  - name: clip
    type: clipboard


matches:
  # æ–‡æœ¬
  # è‡ªå®šä¹‰å…‰æ ‡ä½ç½® $|$
  # å›¾ç‰‡ image_path

  # æ—¥æœŸ
  - trigger: ";date"
    replace: "{{my_date}}"
    vars:
      - name: my_date
        type: date
        params:
          format: "%Y.%m.%d"

  - trigger: ";now"
    replace: "ç°åœ¨æ˜¯{{time}}ã€‚"
    vars:
      - name: time
        type: date
        params:
          format: "%Hç‚¹%Måˆ†"
  
  # é€‰æ‹©
  - trigger: ";bestc"
    replace: "\n{{blessing}}\n\nZhen Bu Rang Lai\n{{zhuhao_date}}"
    vars:
      - name: blessing
        type: choice
        params:
          values:
            - "Best Wishes,"
            - "Sincerely,"
            - "Best Regards,"
      - name: zhuhao_date
        type: date
        params:
          format: "%m/%d/%Y"

  # éšæœº
  - trigger: ";bestw"
    replace: "\n{{blessing}}\n\nZhen Bu Rang Lai\n{{zhuhao_date}}"
    vars:
      - name: blessing
        type: random
        params:
          choices:
            - "Best Wishes,"
            - "Sincerely,"
            - "Best Regards,"
      - name: zhuhao_date
        type: date
        params:
          format: "%m/%d/%Y"

  # å‰ªè´´æ¿ scp çš„ä¾‹å­
  - trigger: ";scp"
    replace: "scp -P 6666 zbrl@zbrl.bilibili:~/$|$ {{clip}}"

  # è¡¨å•
  - trigger: ";spring"
    replace: "çƒè™è´ºå²ï¼Œç¥{{form1.nick}}{{form1.blessing}}ğŸ¯ğŸ¯ğŸ¯ğŸ‰ğŸ‰ğŸ‰"
    vars:
      - name: form1
        type: form
        params:
          layout: |-
            ç§°å‘¼: [[nick]] \n
            ç¥ç¦è¯­: [[blessing]]
          fields:
            nick:
              multiline: false
            blessing:
              type: list # list or choice
              values:
                - æ–°æ˜¥å¿«ä¹ã€è™è™ç”Ÿå¨ã€å¦‚è™æ·»ç¿¼ï¼
                - Paperå¤šå¤šï¼ŒMoneyå¤šå¤šï¼
                - å¹³å®‰å¥åº·ï¼Œå¼€å¿ƒé•¿å¤§ï¼
                - æ–°æ˜¥å¿«ä¹ï¼Œç¦æ³°å®‰åº·ï¼
                - å¹³å®‰å–œä¹ï¼Œé˜–å®¶å¹¸ç¦ï¼Œå¥½è¿æ»¡æ»¡ï¼


  # Python
  - trigger: ";fans"
    replace: "{{output}}"
    vars:
      - name: output
        type: script
        params:
          args:
            - python3
            - "%CONFIG%/script/print_bilibili_fans.py"

  # shell_test
  - trigger: ";shfans"
    replace: "{{output}}"
    vars:
      - name: output
        type: shell
        params:
          cmd: "python3 /Users/XXX/print_bilibili_fans.py"

  # shell å¤©æ°”
  - trigger: ";weather"
    replace: "{{output}}"
    vars:
      - name: output
        type: shell
        params:
          cmd: "curl wttr.in/Shanghai?format=1"

  # shell å¤©æ°”
  - trigger: ";cityc"
    replace: "{{output}}"
    vars:
      - name: city
        type: choice
        params:
          values:
            - label: "åŒ—äº¬"
              id: "Beijing"
            - label: "ä¸Šæµ·"
              id: "Shanghai"
            - label: "è‹å·"
              id: "Suzhu"
            - label: "æ¼ æ²³"
              id: "Mohe"
      - name: output
        type: shell
        params:
          cmd: "curl wttr.in/{{city}}?format=1"

 # shell å¤©æ°”
  - trigger: ";cityf"
    replace: "{{output}}"
    vars:
      - name: form1
        type: form
        params:
          layout: |-
            åŸå¸‚: [[city]] 
          fields:
            city:
              multiline: false
      - name: output
        type: shell
        params:
          cmd: "curl wttr.in/{{form1.city}}?format=1"


  ##### Obsidianç›¸å…³ ####
  # ç”Ÿæˆzkå¡ç‰‡
  - trigger: ";obzk"
    replace: "obsidian://advanced-uri?vault=knowledgehub&filepath=markdown%2F003_zk%2F{{uuid}}.md"
    vars:
      - name: uuid
        type: date
        params:
          format: "%Y%m%d%H%M%S"
  
  # æ–¹æ³•1: ä»¥å‰ªè´´æ¿å†…å®¹ä¸ºæ–‡ä»¶åå»ºç«‹ç¬”è®°
  - trigger: ";obclip"
    replace: "obsidian://advanced-uri?vault=knowledgehub&filepath=markdown%2F{{form1.mddir}}%2F{{form1.mdname}}.md"
    vars:
      - name: form1
        type: form
        params:
          layout: |-
            æ–‡ä»¶å: [[mdname]] 
            ä¿å­˜æ–‡ä»¶å¤¹: [[mddir]]
          fields:
            mdname:
              multiline: false
              default: "{{clip}}"
            mddir:
              type: list
              values:
                - 001_plain
                - 002_avatar
                - 005_moc

  # æ–¹æ³•2: ä»¥å‰ªè´´æ¿å†…å®¹ä¸ºæ–‡ä»¶åå»ºç«‹ç¬”è®°
  - trigger: ";ob2clip"
    replace: "obsidian://advanced-uri?vault=knowledgehub&filepath=markdown%2F{{dirname}}%2F{{clip}}$|$.md"
    vars:
      - name: dirname
        type: choice
        params:
          values:
            - label: "plain"
              id: "001_plain"
            - label: "avatar"
              id: "002_avatar"
            - label: "moc"
              id: "005_moc"

  # åˆ¶ä½œæ›¿èº«
  - trigger: ";obaaa"
    replace: "obsidian://advanced-uri?vault=knowledgehub&filepath=markdown%2F002_avatar%2F{{uuid}}_{{clip}}.md&data=![[{{clip}}]]"
    vars:
      - name: uuid
        type: date
        params:
          format: "%Y%m%d"
